!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"norm",value:function(t,e,n){return(t-e)/(n-e)}},{key:"lerp",value:function(t,e,n){return(n-e)*t+e}},{key:"map",value:function(e,n,r,a,i){return t.lerp(t.norm(e,n,r),a,i)}},{key:"clamp",value:function(t,e,n){return Math.min(Math.max(t,Math.min(e,n)),Math.max(e,n))}},{key:"distance",value:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},{key:"distanceXY",value:function(t,e,n,r){var a=n-t,i=r-e;return Math.sqrt(a*a+i*i)}},{key:"circleCollision",value:function(e,n){return t.distance(e,n)<=e.radius+n.radius}},{key:"circlePointCollision",value:function(e,n,r){return t.distanceXY(e,n,r.x,r.y)<r.radius}},{key:"pointInRect",value:function(e,n,r){return t.inRange(e,r.x,r.x+r.width)&&t.inRange(n,r.y,r.y+r.height)}},{key:"inRange",value:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(e,n)}},{key:"rangeIntersect",value:function(t,e,n,r){return Math.max(t,e)>=Math.min(n,r)&&Math.min(t,e)<=Math.max(n,r)}},{key:"rectIntersect",value:function(e,n){return t.rangeIntersect(e.x,e.x+e.width,n.x,n.x+n.width)&&t.rangeIntersect(e.y,e.y+e.height,n.y,n.y+n.height)}},{key:"degreesToRads",value:function(t){return t/180*Math.PI}},{key:"radsToDegrees",value:function(t){return 180*t/Math.PI}},{key:"randomRange",value:function(t,e){return t+Math.random()*(e-t)}},{key:"randomInt",value:function(t,e){return Math.floor(t+Math.random()*(e-t+1))}},{key:"randomDist",value:function(e,n,r){for(var a=0,i=0;i<r;i+=1)a+=t.randomRange(e,n);return a/r}},{key:"randomColor",value:function(t){return t[Math.floor(Math.random()*t.length)]}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o={},u=["#645f5a"];window.addEventListener("mousemove",(function(t){o.x=t.clientX,o.y=t.clientY}));var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=canvas.getContext("2d"),this.color=a.randomColor(u),this.x=Math.random()*this.canvas.width,this.y=Math.random()*this.canvas.height,this.radius=5*Math.random()+2,this.ax=0,this.ay=0,this.friction=.05*Math.random()+.94,this.dest={x:e,y:n}}var e,n,r;return e=t,(n=[{key:"update",value:function(){this.ax=(this.dest.x-this.x)/30,this.ay=(this.dest.y-this.y)/30,this.x+=this.ax,this.y+=this.ay}},{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.restore()}}])&&i(e.prototype,n),r&&i(e,r),t}();!function(){window.addEventListener("load",(function(){o(),u()})),window.onresize=function(){n.width=window.innerWidth,n.height=window.innerHeight,i=[],o()};var t=document.createElement("canvas"),e=t.getContext("2d"),n=document.querySelector("#canvas"),r=n.getContext("2d"),a=0,i=[];function o(){!function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}();var r=window.innerWidth,o=window.innerHeight;t.width=r,t.height=o,e.font="bold "+r/8+"px arial",e.textAlign="center",e.baseline="middle",e.fillText("Hello World !!",r/2,o/2);var u=e.getImageData(0,0,r,o).data;n.width=r,n.height=o;for(var l=0;l<r;l+=Math.round(r/120))for(var s=0;s<o;s+=Math.round(r/120))u[4*(l+s*r)+3]>120&&i.push(new c(l,s));a=i.length}function u(){r.clearRect(0,0,n.width,n.height);for(var t=0;t<a;t++){var e=i[t];e.update(),e.draw()}requestAnimationFrame(u)}}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVXRpbHMiLCJtaW4iLCJtYXgiLCJub3JtIiwic291cmNlTWluIiwic291cmNlTWF4IiwiZGVzdE1pbiIsImRlc3RNYXgiLCJsZXJwIiwiTWF0aCIsInAwIiwicDEiLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0IiwieDAiLCJ5MCIsIngxIiwieTEiLCJjMCIsImMxIiwiZGlzdGFuY2UiLCJyYWRpdXMiLCJjaXJjbGUiLCJkaXN0YW5jZVhZIiwicmVjdCIsImluUmFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1pbjAiLCJtYXgwIiwibWluMSIsIm1heDEiLCJyMCIsInIxIiwicmFuZ2VJbnRlcnNlY3QiLCJkZWdyZWVzIiwiUEkiLCJyYWRpYW5zIiwicmFuZG9tIiwiZmxvb3IiLCJpdGVyYXRpb25zIiwidG90YWwiLCJyYW5kb21SYW5nZSIsImNvbG9ycyIsImxlbmd0aCIsIm1vdXNlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJQYXJ0aWNsZSIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYW5kb21Db2xvciIsImF4IiwiYXkiLCJmcmljdGlvbiIsImRlc3QiLCJzYXZlIiwiYmVnaW5QYXRoIiwiYXJjIiwiZmlsbFN0eWxlIiwiZmlsbCIsInJlc3RvcmUiLCJpbml0IiwicmVuZGVyIiwib25yZXNpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwYXJ0aWNsZXMiLCJvZmZzY3JlZW5jYW52YXMiLCJjcmVhdGVFbGVtZW50Iiwib2Zmc2NyZWVuY3R4IiwiYW1vdW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJXSURUSCIsIkhFSUdIVCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJiYXNlbGluZSIsImZpbGxUZXh0IiwiaW1nRGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJyb3VuZCIsInB1c2giLCJjbGVhclJlY3QiLCJ1cGRhdGUiLCJkcmF3Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1Ms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QUFJM0MsRUFBU3pDLEVBQUdFLElBSTNDbUUsRUFBU0osRUFBVS9CLE9BR3ZCLFNBQVMyQixJQUNMZixFQUFJdUMsVUFBVSxFQUFHLEVBQUcxQyxFQUFPM0IsTUFBTzJCLEVBQU8xQixRQUd6QyxJQUFLLElBQUk5RCxFQUFJLEVBQUdBLEVBQUlrSCxFQUFRbEgsSUFBSyxDQUM3QixJQUFJOEIsRUFBSWdGLEVBQVU5RyxHQUNsQjhCLEVBQUVxRyxTQUNGckcsRUFBRXNHLE9BRU5qQixzQkFBc0JULElBbkU5QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgVXRpbHMge1xyXG4gICAgc3RhdGljIG5vcm0odmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBsZXJwKG5vcm0sIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIChtYXggLSBtaW4pICogbm9ybSArIG1pbjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBtYXAodmFsdWUsIHNvdXJjZU1pbiwgc291cmNlTWF4LCBkZXN0TWluLCBkZXN0TWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmxlcnAoVXRpbHMubm9ybSh2YWx1ZSwgc291cmNlTWluLCBzb3VyY2VNYXgpLCBkZXN0TWluLCBkZXN0TWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBNYXRoLm1pbihtaW4sIG1heCkpLCBNYXRoLm1heChtaW4sIG1heCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkaXN0YW5jZShwMCwgcDEpIHtcclxuICAgICAgICB2YXIgZHggPSBwMS54IC0gcDAueCxcclxuICAgICAgICAgICAgZHkgPSBwMS55IC0gcDAueTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGlzdGFuY2VYWSh4MCwgeTAsIHgxLCB5MSkge1xyXG4gICAgICAgIHZhciBkeCA9IHgxIC0geDAsXHJcbiAgICAgICAgICAgIGR5ID0geTEgLSB5MDtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2lyY2xlQ29sbGlzaW9uKGMwLCBjMSkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5kaXN0YW5jZShjMCwgYzEpIDw9IGMwLnJhZGl1cyArIGMxLnJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2lyY2xlUG9pbnRDb2xsaXNpb24oeCwgeSwgY2lyY2xlKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmRpc3RhbmNlWFkoeCwgeSwgY2lyY2xlLngsIGNpcmNsZS55KSA8IGNpcmNsZS5yYWRpdXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBvaW50SW5SZWN0KHgsIHksIHJlY3QpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuaW5SYW5nZSh4LCByZWN0LngsIHJlY3QueCArIHJlY3Qud2lkdGgpICYmXHJcbiAgICAgICAgICAgIFV0aWxzLmluUmFuZ2UoeSwgcmVjdC55LCByZWN0LnkgKyByZWN0LmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluUmFuZ2UodmFsdWUsIG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IE1hdGgubWluKG1pbiwgbWF4KSAmJiB2YWx1ZSA8PSBNYXRoLm1heChtaW4sIG1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmdlSW50ZXJzZWN0KG1pbjAsIG1heDAsIG1pbjEsIG1heDEpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluMCwgbWF4MCkgPj0gTWF0aC5taW4obWluMSwgbWF4MSkgJiZcclxuICAgICAgICAgICAgTWF0aC5taW4obWluMCwgbWF4MCkgPD0gTWF0aC5tYXgobWluMSwgbWF4MSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlY3RJbnRlcnNlY3QocjAsIHIxKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLnJhbmdlSW50ZXJzZWN0KHIwLngsIHIwLnggKyByMC53aWR0aCwgcjEueCwgcjEueCArIHIxLndpZHRoKSAmJlxyXG4gICAgICAgICAgICBVdGlscy5yYW5nZUludGVyc2VjdChyMC55LCByMC55ICsgcjAuaGVpZ2h0LCByMS55LCByMS55ICsgcjEuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZGVncmVlc1RvUmFkcyhkZWdyZWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZ3JlZXMgLyAxODAgKiBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYWRzVG9EZWdyZWVzKHJhZGlhbnMpIHtcclxuICAgICAgICByZXR1cm4gcmFkaWFucyAqIDE4MCAvIE1hdGguUEk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbVJhbmdlKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZG9tSW50KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbURpc3QobWluLCBtYXgsIGl0ZXJhdGlvbnMpIHtcclxuICAgICAgICB2YXIgdG90YWwgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICB0b3RhbCArPSBVdGlscy5yYW5kb21SYW5nZShtaW4sIG1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3RhbCAvIGl0ZXJhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmRvbUNvbG9yKGNvbG9ycykge1xyXG4gICAgICAgIHJldHVybiBjb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY29sb3JzLmxlbmd0aCldXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5jb25zdCBtb3VzZSA9IHt9O1xyXG4vLyBjb25zdCBjb2xvcnMgPSBbJyM2MDdEOEInLCAnI0ZGRjNFMCcsICcjMDA5N0E3J107XHJcbmNvbnN0IGNvbG9ycyA9IFsnIzY0NWY1YSddO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gIG1vdXNlLnggPSBldmVudC5jbGllbnRYO1xyXG4gIG1vdXNlLnkgPSBldmVudC5jbGllbnRZO1xyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlIHtcclxuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMnKTtcclxuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIHRoaXMuY29sb3IgPSBVdGlscy5yYW5kb21Db2xvcihjb2xvcnMpO1xyXG4gICAgdGhpcy54ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgdGhpcy55ID0gTWF0aC5yYW5kb20oKSAqIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIHRoaXMucmFkaXVzID0gTWF0aC5yYW5kb20oKSAqIDUgKyAyO1xyXG4gICAgdGhpcy5heCA9IDA7XHJcbiAgICB0aGlzLmF5ID0gMDtcclxuICAgIHRoaXMuZnJpY3Rpb24gPSBNYXRoLnJhbmRvbSgpICogMC4wNSArIDAuOTQ7XHJcbiAgICB0aGlzLmRlc3QgPSB7XHJcbiAgICAgIHg6IHgsXHJcbiAgICAgIHk6IHksXHJcbiAgICB9XHJcbiAgfVxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMuYXggPSAodGhpcy5kZXN0LnggLSB0aGlzLngpIC8gMzA7XHJcbiAgICB0aGlzLmF5ID0gKHRoaXMuZGVzdC55IC0gdGhpcy55KSAvIDMwO1xyXG4gICAgdGhpcy54ICs9IHRoaXMuYXg7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy5heTtcclxuICB9XHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAvLyB0aGlzLmN0eC5zaGFkb3dDb2xvciA9IHRoaXMuY29sb3I7XHJcbiAgICAvLyB0aGlzLmN0eC5zaGFkb3dCbHVyID0gNDtcclxuICAgIC8vIHRoaXMuY3R4LnNoYWRvd09mZnNldFggPSAwO1xyXG4gICAgLy8gdGhpcy5jdHguc2hhZG93T2Zmc2V0WSA9IDA7XHJcbiAgICAvLyB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IC44O1xyXG4gICAgdGhpcy5jdHguZmlsbCgpXHJcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUGFydGljbGUgfSBmcm9tICcuL3BhcnRpY2xlJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuKCgpID0+IHtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbml0KCk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICB9KVxyXG5cclxuICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHBhcnRpY2xlcyA9IFtdO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvZmZzY3JlZW5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcclxuICAgICAgICBvZmZzY3JlZW5jdHggPSBvZmZzY3JlZW5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzJyksXHJcbiAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgbGV0IGFtb3VudCA9IDAsIHBhcnRpY2xlcyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgICAgIC8vIFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICBjb25zdCBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmZvbnQgPSBcImJvbGQgXCIgKyAoV0lEVEggLyA4KSArIFwicHggYXJpYWxcIjtcclxuICAgICAgICBvZmZzY3JlZW5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmZpbGxUZXh0KCdIZWxsbyBXb3JsZCAhIScsIFdJRFRIIC8gMiwgSEVJR0hUIC8gMik7XHJcbiAgICAgICAgY29uc3QgaW1nRGF0YSA9IG9mZnNjcmVlbmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgV0lEVEgsIEhFSUdIVCkuZGF0YTtcclxuXHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcCA9IDEyMDtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IFdJRFRIOyB4ICs9IE1hdGgucm91bmQoV0lEVEggLyBza2lwKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IEhFSUdIVDsgeSArPSBNYXRoLnJvdW5kKFdJRFRIIC8gc2tpcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbWdEYXRhWygoeCArIHkgKiBXSURUSCkgKiA0KSArIDNdID4gc2tpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh4LCB5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYW1vdW50ID0gcGFydGljbGVzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSAnaHNsYSgyNjAsNDAlLDUlLC4yKSc7XHJcbiAgICAgICAgLy8gY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC51cGRhdGUoKTtcclxuICAgICAgICAgICAgcC5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgfVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=