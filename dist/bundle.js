!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"norm",value:function(t,e,n){return(t-e)/(n-e)}},{key:"lerp",value:function(t,e,n){return(n-e)*t+e}},{key:"map",value:function(e,n,i,a,r){return t.lerp(t.norm(e,n,i),a,r)}},{key:"clamp",value:function(t,e,n){return Math.min(Math.max(t,Math.min(e,n)),Math.max(e,n))}},{key:"distance",value:function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}},{key:"distanceXY",value:function(t,e,n,i){var a=n-t,r=i-e;return Math.sqrt(a*a+r*r)}},{key:"circleCollision",value:function(e,n){return t.distance(e,n)<=e.radius+n.radius}},{key:"circlePointCollision",value:function(e,n,i){return t.distanceXY(e,n,i.x,i.y)<i.radius}},{key:"pointInRect",value:function(e,n,i){return t.inRange(e,i.x,i.x+i.width)&&t.inRange(n,i.y,i.y+i.height)}},{key:"inRange",value:function(t,e,n){return t>=Math.min(e,n)&&t<=Math.max(e,n)}},{key:"rangeIntersect",value:function(t,e,n,i){return Math.max(t,e)>=Math.min(n,i)&&Math.min(t,e)<=Math.max(n,i)}},{key:"rectIntersect",value:function(e,n){return t.rangeIntersect(e.x,e.x+e.width,n.x,n.x+n.width)&&t.rangeIntersect(e.y,e.y+e.height,n.y,n.y+n.height)}},{key:"degreesToRads",value:function(t){return t/180*Math.PI}},{key:"radsToDegrees",value:function(t){return 180*t/Math.PI}},{key:"randomRange",value:function(t,e){return t+Math.random()*(e-t)}},{key:"randomInt",value:function(t,e){return Math.floor(t+Math.random()*(e-t+1))}},{key:"randomDist",value:function(e,n,i){for(var a=0,r=0;r<i;r+=1)a+=t.randomRange(e,n);return a/i}},{key:"randomColor",value:function(t){return t[Math.floor(Math.random()*t.length)]}}],(n=null)&&i(e.prototype,n),a&&i(e,a),t}();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s={},o=["#645f5a"];window.addEventListener("mousemove",(function(t){s.x=t.clientX,s.y=t.clientY}));var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=canvas.getContext("2d"),this.color=a.randomColor(o),this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.x2=Math.random()*this.canvas.width,this.y2=Math.random()*this.canvas.height,this.radius=2.5*Math.random()+1,this.vx=0,this.vy=0,this.vx2=0,this.vy2=0,this.friction=.05*Math.random()+.94,this.speed=20,this.angle=2*Math.PI*Math.random(),this.rotationSpeed=.001*Math.random()+.0015,this.distancex=a.randomDist(this.canvas.width/12,this.canvas.width/6+120,2),this.distancey=a.randomDist(this.canvas.height/12,this.canvas.height/1.8+200,6),this.x3=Math.cos(this.angle)*this.distancex+this.canvas.width/2,this.y3=Math.sin(this.angle)*this.distancey+this.canvas.height/2,this.rotationSpeed=.001*Math.random()+.0015,this.x4=e,this.y4=n,this.ax=10*(Math.random()-.5),this.ay=10*(Math.random()-.5)}var e,n,i;return e=t,(n=[{key:"load",value:function(){this.vx=(this.x2-this.x)/this.speed,this.vy=(this.y2-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy}},{key:"circle",value:function(){this.dist=a.distanceXY(this.x,this.y,s.x,s.y),this.angle+=this.rotationSpeed,this.vx=(this.x3-this.x)/this.speed,this.vy=(this.y3-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy,this.x3=Math.cos(this.angle)*this.distancex+this.canvas.width/2+this.vx2,this.y3=Math.sin(this.angle)*this.distancey+this.canvas.height/2+this.vy2,this.vx2*=this.friction,this.vy2*=this.friction,this.dist<20*this.radius&&(this.vx2+=this.ax*s.x,this.vy2+=this.ay*s.y)}},{key:"font",value:function(){this.vx=(this.x4-this.x)/this.speed,this.vy=(this.y4-this.y)/this.speed,this.x+=this.vx,this.y+=this.vy}},{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.fill(),this.ctx.restore()}}])&&r(e.prototype,n),i&&r(e,i),t}();!function(){window.addEventListener("load",(function(){l(),v(),setTimeout((function(){cancelAnimationFrame(u),r.style.opacity=0,s.style.opacity=1,y()}),3e3),setTimeout((function(){cancelAnimationFrame(d),s.style.opacity=0,f()}),1e4)})),window.onresize=function(){n.width=window.innerWidth,n.height=window.innerHeight,c=[],l()};var t=document.createElement("canvas"),e=t.getContext("2d"),n=document.querySelector("#canvas"),i=n.getContext("2d"),a=document.querySelector("body"),r=document.querySelector("h1"),s=document.querySelector("p");a.classList.add("active");var o=0,c=[],u=0,d=0;function l(){!function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}();var i=window.innerWidth,a=window.innerHeight;t.width=i,t.height=a,e.font="bold "+i/8+"px arial",e.textAlign="center",e.baseline="middle",e.fillText("Follow me !!",i/2,a/2);var r=e.getImageData(0,0,i,a).data;n.width=i,n.height=a;for(var s=0;s<i;s+=Math.round(i/150))for(var u=0;u<a;u+=Math.round(i/150))r[4*(s+u*i)+3]>150&&c.push(new h(s,u));o=c.length}function v(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.load(),e.draw()}u=requestAnimationFrame(v)}function y(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.circle(),e.draw()}d=requestAnimationFrame(y)}function f(){i.clearRect(0,0,n.width,n.height);for(var t=0;t<o;t++){var e=c[t];e.font(),e.draw()}requestAnimationFrame(f)}}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcnRpY2xlLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVXRpbHMiLCJtaW4iLCJtYXgiLCJub3JtIiwic291cmNlTWluIiwic291cmNlTWF4IiwiZGVzdE1pbiIsImRlc3RNYXgiLCJsZXJwIiwiTWF0aCIsInAwIiwicDEiLCJkeCIsIngiLCJkeSIsInkiLCJzcXJ0IiwieDAiLCJ5MCIsIngxIiwieTEiLCJjMCIsImMxIiwiZGlzdGFuY2UiLCJyYWRpdXMiLCJjaXJjbGUiLCJkaXN0YW5jZVhZIiwicmVjdCIsImluUmFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsIm1pbjAiLCJtYXgwIiwibWluMSIsIm1heDEiLCJyMCIsInIxIiwicmFuZ2VJbnRlcnNlY3QiLCJkZWdyZWVzIiwiUEkiLCJyYWRpYW5zIiwicmFuZG9tIiwiZmxvb3IiLCJpdGVyYXRpb25zIiwidG90YWwiLCJyYW5kb21SYW5nZSIsImNvbG9ycyIsImxlbmd0aCIsIm1vdXNlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJQYXJ0aWNsZSIsInRoaXMiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiY29sb3IiLCJyYW5kb21Db2xvciIsIngyIiwieTIiLCJ2eCIsInZ5IiwidngyIiwidnkyIiwiZnJpY3Rpb24iLCJzcGVlZCIsImFuZ2xlIiwicm90YXRpb25TcGVlZCIsImRpc3RhbmNleCIsInJhbmRvbURpc3QiLCJkaXN0YW5jZXkiLCJ4MyIsImNvcyIsInkzIiwic2luIiwieDQiLCJ5NCIsImF4IiwiYXkiLCJkaXN0Iiwic2F2ZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGxTdHlsZSIsImZpbGwiLCJyZXN0b3JlIiwiaW5pdCIsInJlbmRlcjAxIiwic2V0VGltZW91dCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZnJhbWUwMSIsInRpdGxlIiwic3R5bGUiLCJvcGFjaXR5IiwidGV4dCIsInJlbmRlcjAyIiwiZnJhbWUwMiIsInJlbmRlcjAzIiwib25yZXNpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwYXJ0aWNsZXMiLCJvZmZzY3JlZW5jYW52YXMiLCJjcmVhdGVFbGVtZW50Iiwib2Zmc2NyZWVuY3R4IiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImFtb3VudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiV0lEVEgiLCJIRUlHSFQiLCJmb250IiwidGV4dEFsaWduIiwiYmFzZWxpbmUiLCJmaWxsVGV4dCIsImltZ0RhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwicm91bmQiLCJwdXNoIiwiY2xlYXJSZWN0IiwibG9hZCIsImRyYXciXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0Ys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b2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjbGFzcyBVdGlscyB7XHJcbiAgICBzdGF0aWMgbm9ybSh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGxlcnAobm9ybSwgbWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gKG1heCAtIG1pbikgKiBub3JtICsgbWluO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG1hcCh2YWx1ZSwgc291cmNlTWluLCBzb3VyY2VNYXgsIGRlc3RNaW4sIGRlc3RNYXgpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMubGVycChVdGlscy5ub3JtKHZhbHVlLCBzb3VyY2VNaW4sIHNvdXJjZU1heCksIGRlc3RNaW4sIGRlc3RNYXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIE1hdGgubWluKG1pbiwgbWF4KSksIE1hdGgubWF4KG1pbiwgbWF4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRpc3RhbmNlKHAwLCBwMSkge1xyXG4gICAgICAgIHZhciBkeCA9IHAxLnggLSBwMC54LFxyXG4gICAgICAgICAgICBkeSA9IHAxLnkgLSBwMC55O1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkaXN0YW5jZVhZKHgwLCB5MCwgeDEsIHkxKSB7XHJcbiAgICAgICAgdmFyIGR4ID0geDEgLSB4MCxcclxuICAgICAgICAgICAgZHkgPSB5MSAtIHkwO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjaXJjbGVDb2xsaXNpb24oYzAsIGMxKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmRpc3RhbmNlKGMwLCBjMSkgPD0gYzAucmFkaXVzICsgYzEucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjaXJjbGVQb2ludENvbGxpc2lvbih4LCB5LCBjaXJjbGUpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMuZGlzdGFuY2VYWSh4LCB5LCBjaXJjbGUueCwgY2lyY2xlLnkpIDwgY2lyY2xlLnJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcG9pbnRJblJlY3QoeCwgeSwgcmVjdCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5pblJhbmdlKHgsIHJlY3QueCwgcmVjdC54ICsgcmVjdC53aWR0aCkgJiZcclxuICAgICAgICAgICAgVXRpbHMuaW5SYW5nZSh5LCByZWN0LnksIHJlY3QueSArIHJlY3QuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaW5SYW5nZSh2YWx1ZSwgbWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPj0gTWF0aC5taW4obWluLCBtYXgpICYmIHZhbHVlIDw9IE1hdGgubWF4KG1pbiwgbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZ2VJbnRlcnNlY3QobWluMCwgbWF4MCwgbWluMSwgbWF4MSkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChtaW4wLCBtYXgwKSA+PSBNYXRoLm1pbihtaW4xLCBtYXgxKSAmJlxyXG4gICAgICAgICAgICBNYXRoLm1pbihtaW4wLCBtYXgwKSA8PSBNYXRoLm1heChtaW4xLCBtYXgxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVjdEludGVyc2VjdChyMCwgcjEpIHtcclxuICAgICAgICByZXR1cm4gVXRpbHMucmFuZ2VJbnRlcnNlY3QocjAueCwgcjAueCArIHIwLndpZHRoLCByMS54LCByMS54ICsgcjEud2lkdGgpICYmXHJcbiAgICAgICAgICAgIFV0aWxzLnJhbmdlSW50ZXJzZWN0KHIwLnksIHIwLnkgKyByMC5oZWlnaHQsIHIxLnksIHIxLnkgKyByMS5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkZWdyZWVzVG9SYWRzKGRlZ3JlZXMpIHtcclxuICAgICAgICByZXR1cm4gZGVncmVlcyAvIDE4MCAqIE1hdGguUEk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhZHNUb0RlZ3JlZXMocmFkaWFucykge1xyXG4gICAgICAgIHJldHVybiByYWRpYW5zICogMTgwIC8gTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZG9tUmFuZ2UobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gbWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByYW5kb21JbnQobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZG9tRGlzdChtaW4sIG1heCwgaXRlcmF0aW9ucykge1xyXG4gICAgICAgIHZhciB0b3RhbCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIHRvdGFsICs9IFV0aWxzLnJhbmRvbVJhbmdlKG1pbiwgbWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvdGFsIC8gaXRlcmF0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmFuZG9tQ29sb3IoY29sb3JzKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi91dGlsJztcclxuXHJcbmNvbnN0IG1vdXNlID0ge307XHJcbi8vIGNvbnN0IGNvbG9ycyA9IFsnIzYwN0Q4QicsICcjRkZGM0UwJywgJyMwMDk3QTcnXTtcclxuY29uc3QgY29sb3JzID0gWycjNjQ1ZjVhJ107XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgbW91c2UueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgbW91c2UueSA9IGV2ZW50LmNsaWVudFk7XHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgUGFydGljbGUge1xyXG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhcycpO1xyXG4gICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgdGhpcy5jb2xvciA9IFV0aWxzLnJhbmRvbUNvbG9yKGNvbG9ycyk7XHJcbiAgICB0aGlzLnggPSB0aGlzLmNhbnZhcy53aWR0aCAvIDI7XHJcbiAgICB0aGlzLnkgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgdGhpcy54MiA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIHRoaXMueTIgPSBNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgdGhpcy5yYWRpdXMgPSBNYXRoLnJhbmRvbSgpICogMi41ICsgMTtcclxuICAgIHRoaXMudnggPSAwO1xyXG4gICAgdGhpcy52eSA9IDA7XHJcbiAgICB0aGlzLnZ4MiA9IDA7XHJcbiAgICB0aGlzLnZ5MiA9IDA7XHJcbiAgICB0aGlzLmZyaWN0aW9uID0gTWF0aC5yYW5kb20oKSAqIDAuMDUgKyAwLjk0O1xyXG4gICAgdGhpcy5zcGVlZCA9IDIwO1xyXG4gICAgdGhpcy5hbmdsZSA9IE1hdGguUEkgKiAyICogTWF0aC5yYW5kb20oKTtcclxuICAgIHRoaXMucm90YXRpb25TcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAuMDAxICsgLjAwMTU7XHJcbiAgICB0aGlzLmRpc3RhbmNleCA9IFV0aWxzLnJhbmRvbURpc3QodGhpcy5jYW52YXMud2lkdGggLyAxMiwgdGhpcy5jYW52YXMud2lkdGggLyA2ICsgMTIwLCAyKTtcclxuICAgIHRoaXMuZGlzdGFuY2V5ID0gVXRpbHMucmFuZG9tRGlzdCh0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS44ICsgMjAwLCA2KTtcclxuICAgIHRoaXMueDMgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSAqIHRoaXMuZGlzdGFuY2V4ICsgdGhpcy5jYW52YXMud2lkdGggLyAyO1xyXG4gICAgdGhpcy55MyA9IE1hdGguc2luKHRoaXMuYW5nbGUpICogdGhpcy5kaXN0YW5jZXkgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgdGhpcy5yb3RhdGlvblNwZWVkID0gTWF0aC5yYW5kb20oKSAqIC4wMDEgKyAuMDAxNTtcclxuICAgIHRoaXMueDQgPSB4O1xyXG4gICAgdGhpcy55NCA9IHk7XHJcbiAgICB0aGlzLmF4ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTA7XHJcbiAgICB0aGlzLmF5ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTA7XHJcbiAgfVxyXG4gIGxvYWQoKSB7XHJcbiAgICB0aGlzLnZ4ID0gKHRoaXMueDIgLSB0aGlzLngpIC8gdGhpcy5zcGVlZDtcclxuICAgIHRoaXMudnkgPSAodGhpcy55MiAtIHRoaXMueSkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy54ICs9IHRoaXMudng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy52eTtcclxuICB9XHJcbiAgY2lyY2xlKCkge1xyXG4gICAgdGhpcy5kaXN0ID0gVXRpbHMuZGlzdGFuY2VYWSh0aGlzLngsIHRoaXMueSwgbW91c2UueCwgbW91c2UueSk7XHJcbiAgICB0aGlzLmFuZ2xlICs9IHRoaXMucm90YXRpb25TcGVlZDtcclxuICAgIHRoaXMudnggPSAodGhpcy54MyAtIHRoaXMueCkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy52eSA9ICh0aGlzLnkzIC0gdGhpcy55KSAvIHRoaXMuc3BlZWQ7XHJcbiAgICB0aGlzLnggKz0gdGhpcy52eDtcclxuICAgIHRoaXMueSArPSB0aGlzLnZ5O1xyXG4gICAgdGhpcy54MyA9IE1hdGguY29zKHRoaXMuYW5nbGUpICogdGhpcy5kaXN0YW5jZXggKyB0aGlzLmNhbnZhcy53aWR0aCAvIDIgKyB0aGlzLnZ4MjtcclxuICAgIHRoaXMueTMgPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSAqIHRoaXMuZGlzdGFuY2V5ICsgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiArIHRoaXMudnkyO1xyXG4gICAgdGhpcy52eDIgKj0gdGhpcy5mcmljdGlvbjtcclxuICAgIHRoaXMudnkyICo9IHRoaXMuZnJpY3Rpb247XHJcbiAgICBpZiAodGhpcy5kaXN0IDwgdGhpcy5yYWRpdXMgKiAyMCkge1xyXG4gICAgICB0aGlzLnZ4MiArPSB0aGlzLmF4ICogbW91c2UueDtcclxuICAgICAgdGhpcy52eTIgKz0gdGhpcy5heSAqIG1vdXNlLnk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZvbnQoKSB7XHJcbiAgICB0aGlzLnZ4ID0gKHRoaXMueDQgLSB0aGlzLngpIC8gdGhpcy5zcGVlZDtcclxuICAgIHRoaXMudnkgPSAodGhpcy55NCAtIHRoaXMueSkgLyB0aGlzLnNwZWVkO1xyXG4gICAgdGhpcy54ICs9IHRoaXMudng7XHJcbiAgICB0aGlzLnkgKz0gdGhpcy52eTtcclxuICB9XHJcbiAgZHJhdygpIHtcclxuICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICB0aGlzLmN0eC5maWxsKClcclxuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQYXJ0aWNsZSB9IGZyb20gJy4vcGFydGljbGUnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG4oKCkgPT4ge1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICByZW5kZXIwMSgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZTAxKTtcclxuICAgICAgICAgICAgdGl0bGUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHRleHQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHJlbmRlcjAyKCk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lMDIpO1xyXG4gICAgICAgICAgICB0ZXh0LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICByZW5kZXIwMygpO1xyXG4gICAgICAgIH0sIDEwMDAwKTtcclxuICAgIH0pXHJcblxyXG4gICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgcGFydGljbGVzID0gW107XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9mZnNjcmVlbmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLFxyXG4gICAgICAgIG9mZnNjcmVlbmN0eCA9IG9mZnNjcmVlbmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxyXG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMnKSxcclxuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcclxuICAgICAgICBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLFxyXG4gICAgICAgIHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEnKSxcclxuICAgICAgICB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigncCcpO1xyXG5cclxuXHJcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgIGxldCBhbW91bnQgPSAwLCBwYXJ0aWNsZXMgPSBbXSwgZnJhbWUwMSA9IDAsIGZyYW1lMDIgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgICAgIC8vIFJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICBjb25zdCBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIGNvbnN0IEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgb2Zmc2NyZWVuY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmZvbnQgPSBcImJvbGQgXCIgKyAoV0lEVEggLyA4KSArIFwicHggYXJpYWxcIjtcclxuICAgICAgICBvZmZzY3JlZW5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgb2Zmc2NyZWVuY3R4LmZpbGxUZXh0KFwiRm9sbG93IG1lICEhXCIsIFdJRFRIIC8gMiwgSEVJR0hUIC8gMik7XHJcbiAgICAgICAgY29uc3QgaW1nRGF0YSA9IG9mZnNjcmVlbmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgV0lEVEgsIEhFSUdIVCkuZGF0YTtcclxuXHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcCA9IDE1MDtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IFdJRFRIOyB4ICs9IE1hdGgucm91bmQoV0lEVEggLyBza2lwKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IEhFSUdIVDsgeSArPSBNYXRoLnJvdW5kKFdJRFRIIC8gc2tpcCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbWdEYXRhWygoeCArIHkgKiBXSURUSCkgKiA0KSArIDNdID4gc2tpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh4LCB5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYW1vdW50ID0gcGFydGljbGVzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXIwMSgpIHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC5sb2FkKCk7XHJcbiAgICAgICAgICAgIHAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmcmFtZTAxID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcjAxKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbmRlcjAyKCkge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwID0gcGFydGljbGVzW2ldO1xyXG4gICAgICAgICAgICBwLmNpcmNsZSgpO1xyXG4gICAgICAgICAgICBwLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnJhbWUwMiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIwMik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW5kZXIwMygpIHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgcC5mb250KCk7XHJcbiAgICAgICAgICAgIHAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyMDMpO1xyXG4gICAgfVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=